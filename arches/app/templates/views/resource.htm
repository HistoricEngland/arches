<!--
ARCHES - a program developed to inventory and manage immovable cultural heritage.
Copyright (C) 2013 J. Paul Getty Trust and World Monuments Fund

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.
-->
{% extends "base-manager.htm" %}
{% load staticfiles %}
{% load i18n %}

{% block title %}
{{ block.super }}
{% trans "Resource Manager" %}
{% endblock title %}


{% block main_content %}
<div class="scroll-y">
    <div class="graph-list-header" data-bind="css: {'alert-active': (alert() && alert().active())}">

        <!-- Toolbar -->
        <div class="relative resource-toolbar" style="">

            <!-- Search -->
            <div class="edit-panel-search-bar">

                <!-- Find Button -->
                <div>
                    <a class="page-header text-overflow graph-find" href="#" data-bind="click: function () { showFind(!showFind()) }"> {% trans "Find" %} </a>
                </div          <!-- Find resource -->
                <div class="find-widget" style="display: none;" data-bind="visible: showFind()">
                    <div>
                        <select data-bind="chosen: {width: '100%'}, value: graphId, options: resources, optionsText: 'name', optionsValue: 'graphid', optionsCaption: '{% trans "Select a resource..." %}', optionsAfterRender: setResourceOptionDisable" aria-label="{% trans "Select a resource..." %}"></select>
                    </div>
                </div>
            </div>

            <!-- Resource/Graph Toggle -->
            <div class="resource-tools relative" data-bind="visible: !showFind()">
                <span class="resource-grid-title">{% trans "Resources" %}</span>
            </div>

        </div>

    </div>


    <!-- Default Page content-->
    <div id="page-content" class="resource-manager-container">

        <div id="resource-list" class="report-image-grid" style="margin-top: 5px;">

            <!-- ko foreach: createableResources -->
            <div class="card-grid-item" data-bind="css: { 'disabled': disable_instance_creation}">
                <!-- Abstract -->
                <div class="panel-body library-card-body" tabindex="0">
                    <!-- card Name -->
                    <div class="panel-heading">
                        <h2 class="panel-title library-card-panel-title"><i class="text-center" data-bind="css: iconclass"></i> <span data-bind="text:name" ></span></h2>
                    </div>
                    <p data-bind="text: description"></p>
                </div>

                <!-- card Tools -->
                <div class="panel-footer">
                    <!-- ko if: disable_instance_creation -->
                    <div>
                        <i class="fa fa-warning"></i> <span class="form-warning" data-bind="text: disable_instance_creation"></span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: !disable_instance_creation-->
                    <div class="pull-right">
                        <a href="#" class="btn btn-primary btn-labeled fa fa-plus" role="button" data-bind="
                        attr: { href: $parent.arches.urls.add_resource(graphid), 'data-arches-graphid': graphid, 'aria-label':'Create resource - '+name},
                        css: { 'disabled': disable_instance_creation }">
                        {% trans "Create Resource" %}</a>
                    </div>
                    <!-- /ko -->
                </div>
            </div>
            <!-- /ko -->

        </div>

    </div>
</div>

{% endblock main_content %}
